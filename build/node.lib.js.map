{"version":3,"sources":["webpack:///webpack/bootstrap 368fb3a640a4f109e0ef","webpack:///./lib/.constants.js","webpack:///external \"ip\"","webpack:///external \"bluebird\"","webpack:///external \"url\"","webpack:///./lib/index.js","webpack:///external \"axios\"","webpack:///./lib/login.js","webpack:///./lib/generate-van.js","webpack:///./lib/get-credit-cards.js","webpack:///./lib/get-active-vans.js","webpack:///./lib/cancel-van.js","webpack:///./lib/two-factor-verify.js","webpack:///./lib/check-for-two-factor.js","webpack:///./lib/tools/conform-response-to-json.js","webpack:///./lib/tools/conform-json-to-request.js","webpack:///./lib/tools/conform-listobject-to-array.js"],"names":["ISSUER_ID","VERSION","LOCALE","WEBCARD_TYPE","ORIGIN_ID","VIRTUAL_ACCT_VERSION","TYPE_OF_VIRTUAL_ACCT","USD_AMT","INDICTOR","CPN_TYPE","SP","MA","URLS","BASE_URL","APPLET_SUB_URL","COOKIES_SUB_URL","SUB_EVENT","LOGIN","VIEW","GENERATE","REQUEST","CANCEL_CPN","GET_CPN","GET_ACTIVE_CARDS","AUTHENTICATION","OTP_DELIVERY","VALIDATE_OTP","GET_ACTIVE_ACCOUNTS","RAN_RISK","CYOTA","ACCEPT_ENCODING","ACCEPT_LANGUAGE","HTTP_ACCEPT","HTTP_ACCEPT_CHARS","DEVICE_TOKEN_COOKIE","DEVICE_TOKEN_FSO","HTTP_REFERRER","SAMPLE_CYOTA_ID","LOAD_OF_PANTS","USER_AGENT","DEVICE_PRINT","OVATION_BLACKBOX","CitibankVAN","baseAxios","create","baseURL","withCredentials","api","get","then","conformResponseToJSON","post","put","del","creditCards","MsgNo","request","requestObject","conformJSONtoRequest","jsonObject","username","password","card","spendLimit","NumberOfMonthsValidFor","cyotaId","verifyMethodsArray","van","login","app","getCookies","Password","CyotahttpAcceptEncoding","IssuerId","CyotahttpAcceptLanguage","SubEvent","VirtualAcctVersion","CyotaDevicePrint","CyotahttpReferrer","iOvationBlackbox","CyotaIPAddress","address","Request","Locale","CyotaDeviceTokenFSO","CyotaUserAgent","User","CyotahttpAccept","CyotaDeviceTokenCookie","WebcardType","CyotahttpAcceptChars","getCreditCards","generateVanForACard","checkIfTwoFactorNeeded","twoFactor","vanRequestObject","CPNType","Version","VCardId","SessionId","sessionId","Indicator","getMsgNo","CardType","CumulativeLimit","String","ValidFor","results","getActiveVansForACreditCard","getCards","usersNumberOfCreditCards","Number","Total","conformListObjectToArray","each","start","next","Start","Next","conformedVans","vans","ActiveVans","cancelVan","CPNPAN","PAN","creditcard","selectTwoFactorVerifyMethod","verifyMethod","Type","Id","CyotaTransactionId","verifyTwoFactorCode","code","OTP","TwoFactorVerify","twoFactorNeeded","verifyMethods","filter","method","OriginID","TypeOfVirtualAcct","USDAmt","res","twoFactorVerify","parsedResults","data","keyShouldBeReturned","key","forEach","value","ErrMsg","conformJSONToRequest","jsonRequestObject","requestURLSearchParams","Object","keys","set","toString","listObject","list","lastLetterInKey","substring","length","isNaN","itemNumber"],"mappings":"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","file":"node.lib.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 368fb3a640a4f109e0ef","export const ISSUER_ID = '1';\nexport const VERSION = 'FLEXWEBCARD-CITI_4_0_547_0';\nexport const LOCALE = 'en';\nexport const WEBCARD_TYPE = 'SLIM';\nexport const ORIGIN_ID = '';\nexport const VIRTUAL_ACCT_VERSION = 'DOWNLOAD';\nexport const TYPE_OF_VIRTUAL_ACCT = 'VAN';\nexport const USD_AMT = '';\nexport const INDICTOR = 'VANGen';\n\nexport const CPN_TYPE = {\n  SP: 'SP',\n  MA: 'MA'\n};\n\nexport const URLS = {\n  BASE_URL: 'https://online.citi.com',\n  APPLET_SUB_URL: '/Athena/WebServlet',\n  COOKIES_SUB_URL: '/US/VAN/webcard/ranwebcard.jsp?brand=Citi&slim=true'\n}\n\nexport const SUB_EVENT = {\n  LOGIN: 'login',\n  VIEW: 'view',\n  GENERATE: 'generate'\n}\n\nexport const REQUEST = {\n  CANCEL_CPN: 'CancelCPN',\n  GET_CPN: 'GetCPN',\n  GET_ACTIVE_CARDS: 'GetActiveCards',\n  AUTHENTICATION: 'Authentication',\n  OTP_DELIVERY: 'OTPDelivery',\n  VALIDATE_OTP: 'ValidateOTP',\n  GET_ACTIVE_ACCOUNTS: 'GetActiveAccounts',\n  RAN_RISK: 'RANRisk'\n};\n\nexport const CYOTA = {\n  ACCEPT_ENCODING: 'gzip',\n  ACCEPT_LANGUAGE: 'en-US',\n  HTTP_ACCEPT: '*/*',\n  HTTP_ACCEPT_CHARS: '',\n  DEVICE_TOKEN_COOKIE: '1',\n  DEVICE_TOKEN_FSO: '',\n  HTTP_REFERRER: '',\n  SAMPLE_CYOTA_ID: 'sample_cyota_id',\n  LOAD_OF_PANTS: 'loadofpants',\n  USER_AGENT: 'Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 6.2; WOW64; Trident/7.0; .NET4.0E; .NET4.0C; .NET CLR 3.5.30729; .NET CLR 2.0.50727; .NET CLR 3.0.30729)',\n  DEVICE_PRINT: 'version=2&pm_fpua=mozilla/4.0 (compatible; msie 7.0; windows nt 6.2; wow64; trident/7.0; .net4.0e; .net4.0c; .net clr 3.5.30729; .net clr 2.0.50727; .net clr 3.0.30729)|4.0 (compatible; MSIE 7.0; Windows NT 6.2; WOW64; Trident/7.0; .NET4.0E; .NET4.0C; .NET CLR 3.5.30729; .NET CLR 2.0.50727; .NET CLR 3.0.30729)|Win32|0|x86|en-US|18739&pm_fpsc=32|1920|1080|1080&pm_fpsw=abk=6,3,9600,17415|dht=11,0,9600,18739|ieh=11,0,9600,18739|iee=6,3,9600,18739|wmp=12,0,9600,18438|obp=11,0,9600,18739|oex=6,3,9600,17415&pm_fptz=-4&pm_fpln=lang=en-US|syslang=en-US|userlang=en-US&pm_fpjv=1&pm_fpco=1&pm_fpasw=&pm_fpan=Microsoft Internet Explorer&pm_fpacn=Mozilla&pm_fpol=true&pm_fposp=&pm_fpup=&pm_fpsaw=1920&pm_fpspd=&pm_fpsbd=0&pm_fpsdx=96&pm_fpsdy=96&pm_fpslx=96&pm_fpsly=96&pm_fpsfse=true&pm_fpsui=0'\n};\n\nexport const OVATION_BLACKBOX =  '0400nyhffR vPCUNf94lis1ztslx6CM6kh71EwmdU5pwECEO41dOg52P6CTlL/qCwCuqnCA2AVXtfyB09goHrD3QuUK5xp HG9GE7tjCQkotdjQw5xWQZwLvBK3AVNJ9bSaWDIKINVrQrNLcRehbfBGuV3dYcifmtkxPNmXQ9ibaX8ENczN14q3lywh3sf2PehRXzxRh3xo8sP3xwUJvdekrQjmYH7238d1UhH63W0JS9EmFAlPKT0bZ0hatzkWpnWI7wTbkqlmBR5MF6EZzbXoGNN59HEXmMHxLwBvzVf/kqtLd5LTcBxyXSOlqWhTCsvxKYuRKa4SnVmrDJHzHkD8s4INYU/TI6xDHIk58X3QGmlnCzrg4rEj1eSa2WrIxc0W3ToPDFOCOlaWD7zl7KVjHLwrtlZ3ZPYc61DwawH2AMLQpTOKngml6yQZLhqCKRUOm0Zo3B7DT/kGDRtHpihj4KszV7Y8/QweFQh28S34xskSFa2zpuxtfRg4mmYKxVbRr77A/AHthzIQI07p4tGGHBe8mR20/oWqfhp3GWZvlfT/AqvQx/6iBZk5svk/NHrqcwWvElLVZ9TI3wt1gJSvYqtT16TeM5diEHf7WUtiodkRiAwV4KReA9bnw5KaWZ4pwxKmKi0E5mbItH5CLMJiFqNsezWDjDReYZ3ickyxF24hP4ehBV15lxEJ9p9DAJOHN snP9 SWhwxVxvHWf/uK445lNi covQlQ6y/ XfUDxdOq87auE3RWwyPd429Hc3XdHevRMsQLV98QdbSEOzcFuJafdvdDoYMHj6A4Tcw/50G6zloCUZZHzyeVqoVts3c7lsEFJXsZtNN9udxoITTbiz8nSCU2KD2n3qkM 8stAl7efp Njoxvg7ycAS4aoAe OYeNGYFn8Zui1Avp7zeygF7dmSFCZofxesfxXV871ILuV2UGFOpoPjmHjRmBZ/G hRusOQCRRHHveWpqXQBjvetIl8o4OkdnJhw/5Aifauo6HA/vCd7wG5ogZ6Ep/KlKYu3FTTPsnmSBBWhu07LmRdt5U4CpewIj2qku3ZkvznZVzOB5EWm0d59HEXmMHxLwBvzVf/kqtLd5LTcBxyXSOlqWhTCsvxKYuRKa4SnVmrDJHzHkD8s4INYU/TI6xDHIk58X3QGmlnCzrg4rEj1eSa2WrIxc0W3ToPDFOCOlaVByXXGibnU2eshaHYP8Oq6k cVXJiV2yKAmeNHH6 w6iz6EaCFtwC6BHoC4lgrgEUQvvB9rpoBsiXN6n4slkSKc/XUz3IPsvxZrWwOnRUCedIQCcOsuVGBxTT7WbryzK6ir3bqElBGMlq44NyGTZasfYs6ZVAotR3xVajijX/olNaNWTFA98K1RZ7hgn53zo3l 0b4vf7xh4aDM05YG1/He34vRamSkybNP 3fQNqB1B9qRtrgJ79NlU99UoH2xklIc/w4WKV7Fr80sU7WXPzI6TmrPLx jAuRcSQpdLa5/31hL1iiG6hM8L27AT1LPr7maXtSl2UmmkzwyBQB1XB6kCEXU1KksDScbq6F4grLRiMiVJIpn96N';\n\n\n\n// WEBPACK FOOTER //\n// ./lib/.constants.js","module.exports = require(\"ip\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ip\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"bluebird\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bluebird\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"url\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 3\n// module chunks = 0","import axios from 'axios';\n\nimport login from './login.js';\nimport generateVanForACreditCard from './generate-van.js';\nimport getCreditCards from './get-credit-cards';\nimport getActiveVansForACreditCard from './get-active-vans';\nimport cancelVan from './cancel-van';\nimport TwoFactorVerifyClass from './two-factor-verify';\nimport checkIfTwoFactorNeeded from './check-for-two-factor';\n\nimport conformResponseToJSON from './tools/conform-response-to-json';\nimport conformJSONtoRequest from './tools/conform-json-to-request';\nimport conformListObjectToArray from './tools/conform-listobject-to-array';\n\nimport {\n  URLS,\n} from './.constants';\n\nexport default class CitibankVAN {\n  constructor() {\n    this.baseAxios = axios.create({\n      baseURL: URLS.BASE_URL,\n      withCredentials: true\n    });\n    this.api = {\n      get: (...allParams) => this.baseAxios.get(...allParams).then(this.conformResponseToJSON()),\n      post: (...allParams) => this.baseAxios.post(...allParams).then(this.conformResponseToJSON()),\n      put: (...allParams) => this.baseAxios.put(...allParams).then(this.conformResponseToJSON()),\n      del: (...allParams) => this.baseAxios.del(...allParams).then(this.conformResponseToJSON()),\n    };\n    this.creditCards = [];\n    this.MsgNo = 0;\n    this.request = (requestObject) => this.api.post(URLS.APPLET_SUB_URL, this.conformJSONtoRequest(requestObject));\n  }\n  conformResponseToJSON() {\n    return conformResponseToJSON(this);\n  }\n  conformJSONtoRequest(jsonObject) {\n    return conformJSONtoRequest(this)(jsonObject);\n  }\n  conformListObjectToArray(jsonObject) {\n    return conformListObjectToArray(jsonObject);\n  }\n  getCookies() {\n    return this.api.get(URLS.COOKIES_SUB_URL);\n  }\n  getMsgNo() {\n    this.MsgNo++;\n    return this.MsgNo;\n  }\n  login(username, password) {\n    this.username = username;\n    this.password = password;\n    return login(this);\n  }\n  checkIfTwoFactorNeeded() {\n    return checkIfTwoFactorNeeded(this);\n  }\n  getCreditCards() {\n    return getCreditCards(this);\n  }\n  generateVanForACreditCard(card, spendLimit, NumberOfMonthsValidFor) {\n    return generateVanForACreditCard(this, card, spendLimit, NumberOfMonthsValidFor);\n  }\n  getActiveVansForACreditCard(card) {\n    return getActiveVansForACreditCard(this, card);\n  }\n  twoFactorVerify(cyotaId, verifyMethodsArray) {\n    return new TwoFactorVerifyClass(this, cyotaId, verifyMethodsArray);\n  }\n  cancelVan(card, van) {\n    return cancelVan(this, card, van);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/index.js","module.exports = require(\"axios\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"axios\"\n// module id = 5\n// module chunks = 0","import ip from 'ip';\n\nimport {\n  CYOTA,\n  OVATION_BLACKBOX,\n  USER_AGENT,\n  LOCALE,\n  ISSUER_ID,\n  WEBCARD_TYPE,\n  REQUEST,\n  SUB_EVENT,\n  VIRTUAL_ACCT_VERSION\n} from './.constants';\n\nexport default function login(app) {\n  return app.getCookies()\n  .then(() => app.request({\n    Password: app.password,\n    CyotahttpAcceptEncoding: CYOTA.ACCEPT_ENCODING,\n    IssuerId: ISSUER_ID,\n    CyotahttpAcceptLanguage: CYOTA.ACCEPT_LANGUAGE,\n    SubEvent: SUB_EVENT.LOGIN,\n    VirtualAcctVersion: VIRTUAL_ACCT_VERSION,\n    CyotaDevicePrint: CYOTA.DEVICE_PRINT,\n    CyotahttpReferrer: CYOTA.HTTP_REFERRER,\n    iOvationBlackbox: OVATION_BLACKBOX,\n    CyotaIPAddress: ip.address(),\n    Request: REQUEST.AUTHENTICATION,\n    Locale: LOCALE,\n    CyotaDeviceTokenFSO: CYOTA.DEVICE_TOKEN_FSO,\n    CyotaUserAgent: USER_AGENT,\n    User: app.username,\n    CyotahttpAccept: CYOTA.HTTP_ACCEPT,\n    CyotaDeviceTokenCookie: CYOTA.DEVICE_TOKEN_COOKIE,\n    WebcardType: WEBCARD_TYPE,\n    CyotahttpAcceptChars: CYOTA.HTTP_ACCEPT_CHARS\n  })).then(() => {\n    return app.getCreditCards();\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/login.js","import {\n  LOCALE,\n  VERSION,\n  ISSUER_ID,\n  WEBCARD_TYPE,\n  REQUEST,\n  CPN_TYPE,\n  INDICTOR\n} from './.constants';\n\nexport default function generateVanForACard(app, card, spendLimit = false, NumberOfMonthsValidFor = false) {\n  return app.checkIfTwoFactorNeeded().then(twoFactor => {\n    if (twoFactor) {\n      return twoFactor;\n    }\n\n    const vanRequestObject = {\n      CPNType: CPN_TYPE.SP,\n      Locale: LOCALE,\n      Version: VERSION,\n      VCardId: card.VCardId,\n      SessionId: app.sessionId,\n      Indicator: INDICTOR,\n      WebcardType: WEBCARD_TYPE,\n      MsgNo: app.getMsgNo(),\n      Request: REQUEST.GET_CPN,\n      IssuerId: ISSUER_ID,\n      CardType: card.CardType\n    };\n\n    if (spendLimit || NumberOfMonthsValidFor) {\n      vanRequestObject.CPNType = CPN_TYPE.MA;\n      vanRequestObject.CumulativeLimit = String(spendLimit);\n      vanRequestObject.ValidFor = String(NumberOfMonthsValidFor);\n    }\n\n    return app.request(vanRequestObject).then((results) => {\n      return app.getActiveVansForACreditCard(card).then(() => results);\n    });\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/generate-van.js","import promise from 'bluebird';\n\nimport {\n  LOCALE,\n  ISSUER_ID,\n  WEBCARD_TYPE,\n  REQUEST,\n} from './.constants';\n\nexport default function getCards(app) {\n  return app.request({\n    Password: app.password,\n    Request: REQUEST.GET_ACTIVE_CARDS,\n    SessionId: app.sessionId,\n    User: app.username,\n    IssuerId: ISSUER_ID,\n    WebcardType: WEBCARD_TYPE,\n    Locale: LOCALE\n  }).then(results => {\n    app.usersNumberOfCreditCards = Number(results.Total);\n    app.creditCards = app.conformListObjectToArray(results);\n    return promise.each(app.creditCards, (card) => {\n      return app.getActiveVansForACreditCard(card);\n    }).then(() => app.creditCards);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/get-credit-cards.js","import {\n  LOCALE,\n  ISSUER_ID,\n  WEBCARD_TYPE,\n  REQUEST,\n  VERSION\n} from './.constants';\n\nexport default function getActiveVansForACreditCard(app, card, start = 0, next = 20) {\n  return app.request({\n    WebcardType: WEBCARD_TYPE,\n    Start: `${start}`,\n    IssuerId: ISSUER_ID,\n    MsgNo: app.getMsgNo(),\n    Locale: LOCALE,\n    Request: REQUEST.GET_ACTIVE_ACCOUNTS,\n    Version: VERSION,\n    Next: `${next}`,\n    VCardId: card.VCardId,\n    CardType: card.CardType,\n    SessionId: app.sessionId\n  }).then(vans => {\n    const conformedVans = app.conformListObjectToArray(vans);\n    card.ActiveVans = app.conformListObjectToArray(vans);\n    return conformedVans;\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/get-active-vans.js","import promise from 'bluebird';\n\nimport {\n  LOCALE,\n  VERSION,\n  ISSUER_ID,\n  WEBCARD_TYPE,\n  REQUEST,\n} from './.constants';\n\nexport default function cancelVan(app, card, van) {\n  return app.request({\n    WebcardType: WEBCARD_TYPE,\n    MsgNo: app.getMsgNo(),\n    CPNPAN: van.PAN,\n    Locale: LOCALE,\n    Request: REQUEST.CANCEL_CPN,\n    Version: VERSION,\n    VCardId: card.VCardId,\n    IssuerId: ISSUER_ID,\n    CardType: card.CardType,\n    SessionId: app.sessionId\n  }).then(results => {\n    return promise.each(app.creditCards, (creditcard) => {\n      return app.getActiveVansForACreditCard(creditcard).then(vans => {\n        creditcard.ActiveVans = vans;\n      });\n    }).then(() => results);\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/cancel-van.js","import {\n  CYOTA,\n  ISSUER_ID,\n  WEBCARD_TYPE,\n  REQUEST,\n  SUB_EVENT\n} from './.constants';\n\nfunction selectTwoFactorVerifyMethod(app, verifyMethod) {\n  return app.request({\n    User: app.username,\n    Type: verifyMethod.Id,\n    WebcardType: WEBCARD_TYPE,\n    Request: REQUEST.OTP_DELIVERY,\n    CyotaTransactionId: CYOTA.SAMPLE_CYOTA_ID,\n    IssuerId: ISSUER_ID,\n    SessionId: app.sessionId\n  });\n}\n\nfunction verifyTwoFactorCode(app, code) {\n  return app.request({\n    User: app.username,\n    // This is actually what citi's VAN client sends as the Id. Not joking.\n    CyotaTransactionId: CYOTA.LOAD_OF_PANTS,\n    WebcardType: WEBCARD_TYPE,\n    OTP: code,\n    Request: REQUEST.VALIDATE_OTP,\n    SubEvent: SUB_EVENT.VIEW,\n    IssuerId: ISSUER_ID,\n    SessionId: app.sessionId\n  });\n}\n\nexport default class TwoFactorVerify {\n  constructor(app, cyotaId, verifyMethodsArray) {\n    this.app = app;\n    this.twoFactorNeeded = true;\n    this.creditCards = app.creditCards;\n    this.verifyMethods = verifyMethodsArray.filter((method) => method.Id !== 'Cannot receive code');\n    this.cyotaId = cyotaId;\n  }\n  selectVerifyMethod(verifyMethod) {\n    return selectTwoFactorVerifyMethod(this.app, verifyMethod);\n  }\n  verifyCode(code) {\n    return verifyTwoFactorCode(this.app, code);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/two-factor-verify.js","import ip from 'ip';\n\nimport {\n  CYOTA,\n  OVATION_BLACKBOX,\n  LOCALE,\n  VERSION,\n  REQUEST,\n  ISSUER_ID,\n  ORIGIN_ID,\n  VIRTUAL_ACCT_VERSION,\n  SUB_EVENT,\n  TYPE_OF_VIRTUAL_ACCT,\n  USD_AMT\n} from './.constants';\n\nexport default function checkIfTwoFactorNeeded(app) {\n  const card = app.creditCards[0];\n  return app.request({\n    Request: REQUEST.RAN_RISK,\n    CyotahttpAcceptEncoding: CYOTA.ACCEPT_ENCODING,\n    VirtualAcctVersion: VIRTUAL_ACCT_VERSION,\n    OriginID: ORIGIN_ID,\n    CyotahttpAcceptLanguage: CYOTA.ACCEPT_LANGUAGE,\n    Version: VERSION,\n    VCardId: card.VCardId,\n    CyotaDevicePrint: CYOTA.DEVICE_PRINT,\n    CyotahttpReferrer: CYOTA.HTTP_REFERRER,\n    SessionId: app.sessionId,\n    iOvationBlackbox: OVATION_BLACKBOX,\n    CyotaIPAddress: ip.address(),\n    CyotaDeviceTokenCookie: CYOTA.DEVICE_TOKEN_COOKIE,\n    MsgNo: app.getMsgNo(),\n    TypeOfVirtualAcct: TYPE_OF_VIRTUAL_ACCT,\n    CyotaDeviceTokenFSO: CYOTA.DEVICE_TOKEN_FSO,\n    CyotaUserAgent: CYOTA.USER_AGENT,\n    CyotahttpAccept: CYOTA.HTTP_ACCEPT,\n    Locale: LOCALE,\n    SubEvent: SUB_EVENT.GENERATE,\n    IssuerId: ISSUER_ID,\n    USDAmt: USD_AMT,\n    CardType: card.CardType,\n    CyotahttpAcceptChars: CYOTA.HTTP_ACCEPT_CHARS\n  }).then(res => {\n    if(res.CyotaTransactionId) {\n      return app.twoFactorVerify(res.CyotaTransactionId, app.conformListObjectToArray(res));\n    };\n    return false;\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/check-for-two-factor.js","import { URLSearchParams } from 'url';\n\nexport default function conformResponseToJSON(app) {\n  return (results) => {\n    const parsedResults = new URLSearchParams(results.data);\n    function keyShouldBeReturned(key) {\n      return key !== 'Dummy' && key !== 'Eof' && key !== 'Action' && key !== 'SessionId' && key !== 'Indicator';\n    };\n    const data = {};\n    parsedResults.forEach((value, key) => {\n      if (keyShouldBeReturned(key)) {\n        data[key] = value;\n      }\n      if (key === 'SessionId') {\n        app.sessionId = value;\n      }\n    });\n    if (data.ErrMsg) {\n      throw data;\n    }\n    return data;\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tools/conform-response-to-json.js","import { URLSearchParams } from 'url';\n\nexport default function conformJSONToRequest(app) {\n  return (jsonRequestObject) => {\n    const requestURLSearchParams = new URLSearchParams();\n    Object.keys(jsonRequestObject).forEach(key => {\n      requestURLSearchParams.set(key, jsonRequestObject[key]);\n    });\n    return requestURLSearchParams.toString();\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tools/conform-json-to-request.js","export default function conformListObjectToArray(listObject) {\n  const list = [];\n\n  Object.keys(listObject).forEach(key => {\n    const lastLetterInKey = key.substring(key.length - 1, key.length);\n    if(!isNaN(lastLetterInKey)) {\n      const itemNumber = Number(lastLetterInKey);\n      if (!list[itemNumber - 1]) {\n        list[itemNumber - 1] = {};\n      }\n      list[itemNumber - 1][key.substring(0, key.length - 1)] = listObject[key];\n    }\n  });\n\n  return list;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./lib/tools/conform-listobject-to-array.js"],"sourceRoot":""}